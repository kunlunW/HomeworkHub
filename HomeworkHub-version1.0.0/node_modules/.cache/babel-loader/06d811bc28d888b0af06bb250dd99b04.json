{"ast":null,"code":"var _jsxFileName = \"/Users/kunlunwang/Documents/GitHub/HomeworkHub/HomeworkHub-version1.0.0/src/views/viewClass.js\";\nimport React, { useState, Link } from \"react\";\nimport axios from \"axios\";\nimport { Card, Container, Row, Col, FormGroup, FormControl, Button, FormLabel } from \"react-bootstrap\";\nimport default_img from \"../Picture/generic_classroom.jpg\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst mock_classrooms = [{\n  name: \"English\",\n  teacher: \"Mr.Badger\"\n}, {\n  name: \"Science\",\n  teacher: \"Mr.Badger\"\n}, {\n  name: \"Math\",\n  teacher: \"Mr.Badger\"\n}, {\n  name: \"Social Studies\",\n  teacher: \"Mr.Badger\"\n}];\nexport class viewClass extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.state = {\n      username: localStorage.getItem(\"username\"),\n      classrooms: [this.get_classrooms()],\n      new_classroom_name: \"\",\n      success: false\n    };\n    this.create_new_classroom = this.create_new_classroom.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  } //Retrieves each classroom for current user, called when creating cards\n\n\n  get_classrooms() {\n    const url = \"/HomeworkHub/backend/get_teacher_classrooms.php\";\n    let formData = new FormData();\n    let data = '{\"username\":\"' +\n    /*this.state.username*/\n    localStorage.getItem(\"username\") + '\"}';\n    formData.append('formData', data);\n    axios.post(url, formData).then(response => {\n      var res = response[\"data\"];\n      this.setState({\n        classrooms: [...res]\n      });\n      console.log(this.state.classrooms);\n    }).catch(err => console.log(err));\n    return [];\n  }\n\n  create_cards() {\n    return this.state.classrooms.map(this.create_card);\n  }\n\n  create_card(classroom) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          class: \"card-img-top\",\n          src: default_img\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n          children: classroom.classroomname\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Card.Footer, {\n          children: classroom.teachername\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }, this);\n  } //Creates a new classroom in the db\n\n\n  create_new_classroom() {\n    console.log(this.state.new_classroom_name);\n    const url = \"/HomeworkHub/backend/create_classroom.php\";\n    let formData = new FormData();\n    let data = '{\"classroomname\":\"' + this.state.new_classroom_name + '\", \"teachername\":\"' + this.state.username + '\"}';\n    formData.append(\"formData\", data);\n    axios.post(url, formData).then(response => {\n      var res = response[\"data\"];\n      console.log(res);\n\n      if (res > 0) {\n        this.setState({\n          success: true\n        });\n        this.get_classrooms();\n      }\n    }).catch(err => console.log(err));\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      fluid: true,\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          children: this.create_cards(this.state.classrooms)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n            controlId: \"create\",\n            size: \"lg\",\n            children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n              children: \"Create new classroom\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n              value: this.state.new_classroom_name,\n              onChange: this.handleChange,\n              placeholder: \"Enter name\",\n              name: \"new_classroom_name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: this.create_new_classroom,\n            children: \"Create\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 11\n          }, this), this.state.success ? /*#__PURE__*/_jsxDEV(\"h6\", {\n            children: \"Success\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 34\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 5\n    }, this);\n  }\n\n}\nexport default viewClass;","map":{"version":3,"sources":["/Users/kunlunwang/Documents/GitHub/HomeworkHub/HomeworkHub-version1.0.0/src/views/viewClass.js"],"names":["React","useState","Link","axios","Card","Container","Row","Col","FormGroup","FormControl","Button","FormLabel","default_img","mock_classrooms","name","teacher","viewClass","Component","constructor","props","handleChange","e","setState","target","value","state","username","localStorage","getItem","classrooms","get_classrooms","new_classroom_name","success","create_new_classroom","bind","url","formData","FormData","data","append","post","then","response","res","console","log","catch","err","create_cards","map","create_card","classroom","classroomname","teachername","render"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,IAAzB,QAAoC,OAApC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SACEC,IADF,EAEEC,SAFF,EAGEC,GAHF,EAIEC,GAJF,EAKEC,SALF,EAMEC,WANF,EAOEC,MAPF,EAQEC,SARF,QASO,iBATP;AAWA,OAAOC,WAAP,MAAwB,kCAAxB;;AAEA,MAAMC,eAAe,GAAG,CACtB;AAACC,EAAAA,IAAI,EAAE,SAAP;AAAkBC,EAAAA,OAAO,EAAE;AAA3B,CADsB,EAEtB;AAACD,EAAAA,IAAI,EAAE,SAAP;AAAkBC,EAAAA,OAAO,EAAE;AAA3B,CAFsB,EAGtB;AAACD,EAAAA,IAAI,EAAE,MAAP;AAAeC,EAAAA,OAAO,EAAE;AAAxB,CAHsB,EAItB;AAACD,EAAAA,IAAI,EAAE,gBAAP;AAAyBC,EAAAA,OAAO,EAAE;AAAlC,CAJsB,CAAxB;AAOA,OAAO,MAAMC,SAAN,SAAwBhB,KAAK,CAACiB,SAA9B,CAAwC;AAC7CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAwEnBC,YAxEmB,GAwEJC,CAAC,IAAI;AAClB,WAAKC,QAAL,CAAc;AAAE,SAACD,CAAC,CAACE,MAAF,CAAST,IAAV,GAAiBO,CAAC,CAACE,MAAF,CAASC;AAA5B,OAAd;AACD,KA1EkB;;AAEjB,SAAKC,KAAL,GAAa;AACXC,MAAAA,QAAQ,EAAEC,YAAY,CAACC,OAAb,CAAqB,UAArB,CADC;AAEXC,MAAAA,UAAU,EAAE,CAAC,KAAKC,cAAL,EAAD,CAFD;AAGXC,MAAAA,kBAAkB,EAAE,EAHT;AAIXC,MAAAA,OAAO,EAAE;AAJE,KAAb;AAMA,SAAKC,oBAAL,GAA4B,KAAKA,oBAAL,CAA0BC,IAA1B,CAA+B,IAA/B,CAA5B;AACA,SAAKd,YAAL,GAAoB,KAAKA,YAAL,CAAkBc,IAAlB,CAAuB,IAAvB,CAApB;AACD,GAX4C,CAc7C;;;AACAJ,EAAAA,cAAc,GAAG;AAEf,UAAMK,GAAG,GAAG,iDAAZ;AACA,QAAIC,QAAQ,GAAG,IAAIC,QAAJ,EAAf;AACA,QAAIC,IAAI,GAAG;AAAkB;AAAuBX,IAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAzC,GAA4E,IAAvF;AACAQ,IAAAA,QAAQ,CAACG,MAAT,CAAgB,UAAhB,EAA4BD,IAA5B;AACAnC,IAAAA,KAAK,CAACqC,IAAN,CAAWL,GAAX,EAAgBC,QAAhB,EACCK,IADD,CACMC,QAAQ,IAAI;AACd,UAAIC,GAAG,GAAGD,QAAQ,CAAC,MAAD,CAAlB;AACA,WAAKpB,QAAL,CAAc;AAACO,QAAAA,UAAU,EAAE,CAAC,GAAGc,GAAJ;AAAb,OAAd;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKpB,KAAL,CAAWI,UAAvB;AACH,KALD,EAMCiB,KAND,CAMOC,GAAG,IAAEH,OAAO,CAACC,GAAR,CAAYE,GAAZ,CANZ;AASA,WAAO,EAAP;AACD;;AAEDC,EAAAA,YAAY,GAAG;AACb,WAAO,KAAKvB,KAAL,CAAWI,UAAX,CAAsBoB,GAAtB,CAA0B,KAAKC,WAA/B,CAAP;AACA;;AAEFA,EAAAA,WAAW,CAACC,SAAD,EAAY;AACrB,wBACA;AAAA,6BACE,QAAC,IAAD;AAAA,gCACE;AAAK,UAAA,KAAK,EAAC,cAAX;AAA0B,UAAA,GAAG,EAAEvC;AAA/B;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE,QAAC,IAAD,CAAM,IAAN;AAAA,oBACGuC,SAAS,CAACC;AADb;AAAA;AAAA;AAAA;AAAA,gBAFF,eAKE,QAAC,IAAD,CAAM,MAAN;AAAA,oBACGD,SAAS,CAACE;AADb;AAAA;AAAA;AAAA;AAAA,gBALF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADA;AAaD,GAnD4C,CAqD7C;;;AACApB,EAAAA,oBAAoB,GAAG;AACrBW,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKpB,KAAL,CAAWM,kBAAvB;AAEA,UAAMI,GAAG,GAAG,2CAAZ;AACA,QAAIC,QAAQ,GAAG,IAAIC,QAAJ,EAAf;AACA,QAAIC,IAAI,GAAG,uBAAuB,KAAKb,KAAL,CAAWM,kBAAlC,GAAuD,oBAAvD,GAA8E,KAAKN,KAAL,CAAWC,QAAzF,GAAoG,IAA/G;AACAU,IAAAA,QAAQ,CAACG,MAAT,CAAgB,UAAhB,EAA4BD,IAA5B;AACAnC,IAAAA,KAAK,CAACqC,IAAN,CAAWL,GAAX,EAAgBC,QAAhB,EACGK,IADH,CACQC,QAAQ,IAAI;AACf,UAAIC,GAAG,GAAGD,QAAQ,CAAC,MAAD,CAAlB;AACAE,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;;AACA,UAAIA,GAAG,GAAG,CAAV,EAAa;AACX,aAAKrB,QAAL,CAAc;AAACU,UAAAA,OAAO,EAAE;AAAV,SAAd;AACA,aAAKF,cAAL;AACD;AACJ,KARF,EASEgB,KATF,CASQC,GAAG,IAAEH,OAAO,CAACC,GAAR,CAAYE,GAAZ,CATb;AAUD;;AAMDO,EAAAA,MAAM,GAAG;AACP,wBACA,QAAC,SAAD;AAAW,MAAA,KAAK,MAAhB;AAAA,6BACE,QAAC,GAAD;AAAA,gCACE,QAAC,GAAD;AAAA,oBACG,KAAKN,YAAL,CAAkB,KAAKvB,KAAL,CAAWI,UAA7B;AADH;AAAA;AAAA;AAAA;AAAA,gBADF,eAIE,QAAC,GAAD;AAAA,kCACE,QAAC,SAAD;AAAW,YAAA,SAAS,EAAG,QAAvB;AAAgC,YAAA,IAAI,EAAG,IAAvC;AAAA,oCACE,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE,QAAC,WAAD;AACI,cAAA,KAAK,EAAE,KAAKJ,KAAL,CAAWM,kBADtB;AAEI,cAAA,QAAQ,EAAE,KAAKX,YAFnB;AAGI,cAAA,WAAW,EAAC,YAHhB;AAII,cAAA,IAAI,EAAG;AAJX;AAAA;AAAA;AAAA;AAAA,oBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAUE,QAAC,MAAD;AAAQ,YAAA,OAAO,EAAE,KAAKa,oBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAVF,EAWI,KAAKR,KAAL,CAAWO,OAAX,gBAAqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAArB,GAAwC,IAX5C;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADA;AAsBD;;AApG4C;AAuG/C,eAAehB,SAAf","sourcesContent":["import React, {useState, Link} from \"react\";\nimport axios from \"axios\";\nimport { \n  Card,\n  Container,\n  Row,\n  Col,\n  FormGroup,\n  FormControl,\n  Button,\n  FormLabel,\n} from \"react-bootstrap\";\n\nimport default_img from \"../Picture/generic_classroom.jpg\"\n\nconst mock_classrooms = [\n  {name: \"English\", teacher: \"Mr.Badger\"},\n  {name: \"Science\", teacher: \"Mr.Badger\"},\n  {name: \"Math\", teacher: \"Mr.Badger\"},\n  {name: \"Social Studies\", teacher: \"Mr.Badger\"}\n];\n\nexport class viewClass extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: localStorage.getItem(\"username\"),\n      classrooms: [this.get_classrooms()],\n      new_classroom_name: \"\",\n      success: false\n    };\n    this.create_new_classroom = this.create_new_classroom.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n  \n  \n  //Retrieves each classroom for current user, called when creating cards\n  get_classrooms() {\n\n    const url = \"/HomeworkHub/backend/get_teacher_classrooms.php\";\n    let formData = new FormData();\n    let data = '{\"username\":\"' + /*this.state.username*/localStorage.getItem(\"username\") + '\"}';\n    formData.append('formData', data);\n    axios.post(url, formData)\n    .then(response => {\n        var res = response[\"data\"];\n        this.setState({classrooms: [...res]});\n        console.log(this.state.classrooms);\n    })\n    .catch(err=>console.log(err));\n\n\n    return [];\n  }\n\n  create_cards() {\n    return this.state.classrooms.map(this.create_card);\n   }\n\n  create_card(classroom) {\n    return (\n    <div>\n      <Card>\n        <img class=\"card-img-top\" src={default_img}  />\n        <Card.Body>\n          {classroom.classroomname}\n        </Card.Body>\n        <Card.Footer>\n          {classroom.teachername}\n        </Card.Footer>\n      </Card>\n    </div>\n    );\n  }\n\n  //Creates a new classroom in the db\n  create_new_classroom() {\n    console.log(this.state.new_classroom_name);\n    \n    const url = \"/HomeworkHub/backend/create_classroom.php\";\n    let formData = new FormData();\n    let data = '{\"classroomname\":\"' + this.state.new_classroom_name + '\", \"teachername\":\"' + this.state.username + '\"}';\n    formData.append(\"formData\", data);\n    axios.post(url, formData)\n      .then(response => {\n         var res = response[\"data\"];\n         console.log(res);\n         if (res > 0) {\n           this.setState({success: true});\n           this.get_classrooms();\n         }\n     })\n     .catch(err=>console.log(err));\n  }\n\n  handleChange = e => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  render() {\n    return (\n    <Container fluid>\n      <Row>\n        <Col>\n          {this.create_cards(this.state.classrooms)}\n        </Col>\n        <Col>\n          <FormGroup controlId = \"create\" size = \"lg\">\n            <FormLabel>Create new classroom</FormLabel>\n            <FormControl\n                value={this.state.new_classroom_name}\n                onChange={this.handleChange}\n                placeholder=\"Enter name\"\n                name = \"new_classroom_name\"\n            />\n          </FormGroup>\n          <Button onClick={this.create_new_classroom}>Create</Button>\n          { this.state.success ? <h6>Success</h6> : null}\n        </Col>\n      </Row>\n    </Container>\n    );\n  }\n}\n\nexport default viewClass;\n"]},"metadata":{},"sourceType":"module"}